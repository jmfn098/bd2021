(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[7],{648:function(e,t,c){"use strict";function n(){var e=JSON.parse(localStorage.getItem("userComunidad"));return e&&e.token?{"x-access-token":e.token}:{}}c.d(t,"a",(function(){return n}))},709:function(e,t,c){"use strict";c.r(t);var n=c(644),r=c.n(n),a=c(645),s=c(375),i=c(83),j=c(649),o=c(1),d=c(646),l=c.n(d),u=c(648),b="".concat("https://fast-woodland-97208.herokuapp.com","/api/funcionarios"),O=function(e){return l.a.get(b,{headers:Object(u.a)()})},h=function(e){return l.a.post(b+"/",e,{headers:Object(u.a)()})},x=function(e,t){return l.a.put(b+"/"+e,t,{headers:Object(u.a)()})},f=function(e){return l.a.delete(b+"/"+e,{headers:Object(u.a)()})},p=c(695),m=c.n(p),g=c(639),v=c(29);t.default=function(){var e={nombre:"",apellido:"",cedula:0,rfid:"",cargo:"",departamento:"",password:""},t=Object(o.useState)(""),c=Object(j.a)(t,2),n=c[0],d=c[1],l=Object(o.useState)(!1),u=Object(j.a)(l,2),b=u[0],p=u[1],w=Object(o.useState)("create"),C=Object(j.a)(w,2),k=C[0],z=C[1],y=Object(o.useState)(e),D=Object(j.a)(y,2),S=D[0],A=D[1],F=Object(o.useState)([]),N=Object(j.a)(F,2),G=N[0],I=N[1],J=function(e){A(Object(i.a)(Object(i.a)({},S),{},Object(s.a)({},e.target.name,e.target.value)))},P=function(){var e=Object(a.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(S.cedula,S);case 2:t=e.sent,d(t.data.message),R();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(a.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(S.id_empresa);case 2:t=e.sent,I(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var t=Object(a.a)(r.a.mark((function t(c){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(S.cedula);case 2:A(e),p(!1),R();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(o.useEffect)((function(){R()}),[]),console.log(),Object(v.jsxs)("div",{children:[Object(v.jsxs)(g.f,{children:[Object(v.jsxs)(g.i,{className:"d-flex align-items-center justify-content-between",children:[Object(v.jsx)("div",{children:"Funcionarios"}),Object(v.jsx)("div",{children:Object(v.jsx)("div",{children:Object(v.jsx)(g.e,{color:"secondary",onClick:function(t){p(!0),z("Guardar"),A(e)},children:"Agregar Funcionario"})})})]}),Object(v.jsx)(g.g,{children:Object(v.jsx)(g.m,{responsive:!0,outlined:!0,hover:!0,itemsPerPage:10,tableFilter:!0,sorter:!0,onRowClick:function(e){z("Actualizar"),A(m.a.omit(e,["updatedAt","createdAt","__v"])),p(!0)},items:G,fields:["nombre","apellido","cedula","departamento","cargo","rfid"],pagination:!0,clickableRows:!0})})]}),Object(v.jsxs)(g.F,{show:b,onClose:function(){p(!1),d(""),A({})},children:[Object(v.jsxs)(g.I,{children:[Object(v.jsx)("div",{children:"Informaci\xf3n B\xe1sica"}),"Actualizar"===k&&Object(v.jsx)(g.e,{color:"link",className:"text-danger",shape:"square",size:"sm",onClick:function(e){_(S.cedula)},children:"Eliminar"})]}),Object(v.jsx)(g.G,{children:Object(v.jsxs)(g.t,{children:[Object(v.jsxs)(g.u,{row:!0,children:[Object(v.jsx)(g.j,{xs:"12",children:"Nombre"}),Object(v.jsx)(g.j,{children:Object(v.jsx)(g.z,{name:"nombre",value:S.nombre,onChange:J})})]}),Object(v.jsxs)(g.u,{row:!0,children:[Object(v.jsx)(g.j,{xs:"12",children:"Apellido"}),Object(v.jsx)(g.j,{children:Object(v.jsx)(g.z,{name:"apellido",value:S.apellido,onChange:J})})]}),Object(v.jsxs)(g.u,{row:!0,children:[Object(v.jsx)(g.j,{xs:"12",children:Object(v.jsx)(g.D,{children:"Cedula"})}),Object(v.jsx)(g.j,{children:Object(v.jsx)(g.z,{name:"cedula",type:"number",value:S.cedula,onChange:J})})]}),Object(v.jsxs)(g.u,{row:!0,children:[Object(v.jsx)(g.j,{xs:"12",children:Object(v.jsx)(g.D,{children:"Departamento"})}),Object(v.jsx)(g.j,{children:Object(v.jsx)(g.z,{name:"departamento",value:S.departamento,onChange:J})})]}),Object(v.jsxs)(g.u,{row:!0,children:[Object(v.jsx)(g.j,{xs:"12",children:Object(v.jsx)(g.D,{children:"Cargo"})}),Object(v.jsx)(g.j,{children:Object(v.jsx)(g.z,{name:"cargo",value:S.cargo,onChange:J})})]}),Object(v.jsxs)(g.u,{row:!0,children:[Object(v.jsx)(g.j,{xs:"12",children:Object(v.jsx)(g.D,{children:"RFID"})}),Object(v.jsx)(g.j,{children:Object(v.jsx)(g.z,{name:"rfid",value:S.rfid,onChange:J})})]}),Object(v.jsxs)(g.u,{row:!0,children:[Object(v.jsx)(g.j,{xs:"12",children:Object(v.jsx)(g.D,{children:"Password"})}),Object(v.jsx)(g.j,{children:Object(v.jsx)(g.z,{name:"password",value:S.password,onChange:J})})]}),n&&Object(v.jsx)("div",{className:"form-group",onClick:function(){d("")},children:Object(v.jsx)("div",{className:"alert alert-".concat("Guardado con exito!"===n||"Funcionario actualizado."===n?"success":"danger"),children:n})})]})}),Object(v.jsxs)(g.H,{children:[Object(v.jsx)(g.e,{color:"primary",onClick:"Guardar"===k?function(){h(S).then((function(e){d(e.data.message),R()})).catch((function(e){return d(e.response.data.message)}))}:P,children:k}),Object(v.jsx)(g.e,{onClick:function(){p(!1),A(e),d("")},color:"secondary",children:"Cancelar"})]})]})]})}}}]);
//# sourceMappingURL=7.606baa17.chunk.js.map