(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[8],{648:function(e,t,n){"use strict";function r(){var e=JSON.parse(localStorage.getItem("userComunidad"));return e&&e.token?{"x-access-token":e.token}:{}}n.d(t,"a",(function(){return r}))},708:function(e,t,n){"use strict";n.r(t);var r=n(644),c=n.n(r),a=n(645),i=n(649),s=n(1),o=n(646),u=n.n(o),d=n(648),l="".concat("https://fast-woodland-97208.herokuapp.com","/api/temperaturas"),j=function(){return u.a.get(l,{headers:Object(d.a)()})},b=function(e){return u.a.post(l+"/",{cedula:e},{headers:Object(d.a)()})},p=n(639),f=n(705),O=n(29);t.default=function(){var e=Object(s.useState)([]),t=Object(i.a)(e,2),n=t[0],r=t[1],o=Object(s.useState)(!1),u=Object(i.a)(o,2),d=u[0],l=u[1],m=Object(s.useState)(0),h=Object(i.a)(m,2),x=h[0],v=h[1],g=Object(s.useState)(!1),k=Object(i.a)(g,2),w=k[0],y=k[1],S=Object(s.useState)(""),C=Object(i.a)(S,2),N=C[0],P=C[1],D=function(){var e=Object(a.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:t=e.sent,r(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(a.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.next=3,b(x);case 3:(t=e.sent).data.temperatura?P(t.data.temperatura):P(t.data.message),y(!1),D();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){D()}),[]),console.log(),Object(O.jsxs)("div",{children:[Object(O.jsxs)(p.f,{children:[Object(O.jsxs)(p.i,{className:"d-flex align-items-center justify-content-between",children:[Object(O.jsx)("div",{children:"Temperaturas"}),Object(O.jsx)("div",{children:Object(O.jsx)(p.e,{color:"primary",onClick:function(){l(!0)},children:"Medir Temperatura"})})]}),Object(O.jsx)(p.g,{children:Object(O.jsx)(p.m,{responsive:!0,outlined:!0,hover:!0,itemsPerPage:10,tableFilter:!0,sorter:!0,items:n,fields:["funcionario","cedula","temperatura","timestamp"],scopedSlots:{funcionario:function(e){var t,n;return Object(O.jsx)("td",{children:(null===e||void 0===e||null===(t=e.funcionario)||void 0===t?void 0:t.nombre)+" "+(null===e||void 0===e||null===(n=e.funcionario)||void 0===n?void 0:n.apellido)})},cedula:function(e){var t;return Object(O.jsx)("td",{children:null===e||void 0===e||null===(t=e.funcionario)||void 0===t?void 0:t.cedula})},temperatura:function(e){return Object(O.jsxs)("td",{children:[e.temperatura," \xb0C"]})},timestamp:function(e){return Object(O.jsx)("td",{children:new Date(e.createdAt).toLocaleDateString("es-PY",{hour:"numeric",minute:"numeric",day:"2-digit",month:"short",year:"numeric"})})}},pagination:!0,clickableRows:!0})})]}),Object(O.jsxs)(f.a,{show:d,children:[Object(O.jsx)(f.a.Header,{children:"Marca de temperatura"}),Object(O.jsxs)(f.a.Body,{children:[Object(O.jsx)(p.t,{children:Object(O.jsxs)(p.u,{row:!0,children:[Object(O.jsx)(p.j,{xs:"12",children:Object(O.jsx)(p.D,{children:"Ingrese Cedula o acerque su tarjeta de identificaci\xf3n"})}),Object(O.jsx)(p.j,{children:Object(O.jsx)(p.z,{name:"cedula",type:"number",value:x,onChange:function(e){v(e.target.value)}})})]})}),Object(O.jsxs)("div",{className:"text-center",children:[w&&Object(O.jsx)("span",{className:"spinner-border spinner-border-lg mx-1"}),N&&"number"===typeof N&&"Su temperatura es ".concat(N),N&&Object(O.jsx)("div",{className:"form-group",children:Object(O.jsx)("div",{className:"alert alert-".concat(N<37?"success":"danger"),children:"string"!==typeof N?N<37?"Normal":"Peligro":N})})]})]}),Object(O.jsxs)(f.a.Footer,{children:[Object(O.jsx)(p.e,{color:"secondary",onClick:function(){l(!1),P(""),y(!1),v(0)},children:"Cancelar"}),Object(O.jsx)(p.e,{onClick:J,color:"primary",children:"Guardar"})]})]})]})}}}]);
//# sourceMappingURL=8.4aeb9032.chunk.js.map